let express,cors,getComic,runCron,db,jsonObjAll;_486‍.w("express",[["default",["express"],function(v){express=v}]]);_486‍.w("cors",[["default",["cors"],function(v){cors=v}]]);_486‍.w("./lib/scraper",[["getComic",["getComic"],function(v){getComic=v}],["runCron",["runCron"],function(v){runCron=v}]]);_486‍.w("./db",[["default",["db"],function(v){db=v}]]);_486‍.w("./lib/cron");_486‍.w("./lib/seedData",[["jsonObjAll",["jsonObjAll"],function(v){jsonObjAll=v}]]);






const app = express()
app.use(cors())

// console.log(db)
app.get('/api/comic', async (req, res, next) => {
    let comic = await getComic('http://xkcd.com/info.0.json')
    let found = await db.get('comics').find({num: 2465}).value()
    res.json({comic})
})

app.get('/api/all', async (req, res, next) => {
    let comics = await db.get('comics').value()
    res.json(comics)
})


app.listen(2055, () => {
    console.log("running on 2055");
})